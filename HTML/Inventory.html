<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mark's Shop</title>
  <link rel="stylesheet" href="../CSS/Inventory.css">
  <script src="../JS/Inventory.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="bg-light">
  <div id="successBanner" class="alert alert-success text-center m-0" style="display: none;">
    âœ… Product added successfully!
  </div>
  <header class="d-flex justify-content-between align-items-center px-4 py-3 border-bottom bg-white shadow-sm">
    <h4 class="m-0">Mark's Shop</h4>
    <div>
      <img src="https://via.placeholder.com/40" alt="Profile" class="rounded-circle border">
    </div>
  </header>

  <div class="d-flex">

    <div class="sidebar p-3 border-end bg-white">
      <!-- Category buttons here (unchanged) -->
    </div>

    <div class="container-fluid p-4">
      <div class="d-flex justify-content-center mb-4">
        <input type="text" class="form-control me-2" id="productSearch" placeholder="Search products..." />
        <button class="btn btn-primary" id="searchBtn">Search</button>
      </div>
      <div class="d-flex justify-content-between align-items-center mb-3">
        <div>
          <label class="me-2">Sort by:</label>
          <select id="sortSelect" class="form-select d-inline-block w-auto">
            <option value="name-asc">Name (A-Z)</option>
            <option value="name-desc">Name (Z-A)</option>
          </select>
        </div>
        <div>
          <label class="me-2">Filter by Category:</label>
          <select id="filterSelect" class="form-select d-inline-block w-auto">
            <option value="all">All</option>
            <option value="pants">PANTS</option>
            <option value="t-shirts">T-SHIRTS</option>
            <option value="underwear">UNDERWEAR</option>
            <option value="blouses">BLOUSES</option>
            <option value="dresses">DRESSES</option>
            <option value="hoodies">HOODIES</option>
            <option value="jackets">JACKETS</option>
            <option value="long-sleeves">LONG SLEEVES</option>
            <option value="polos">POLOS</option>
            <option value="sando">SANDO</option>
            <option value="shorts">SHORTS</option>
            <option value="skirts">SKIRTS</option>
          </select>
        </div>
      </div>
      <div class="row g-4" id="productGrid">

        <div class="col-6 col-md-4 col-lg-3" id="addProductCard">
          <div class="d-flex flex-column justify-content-center align-items-center border rounded p-4 h-100 bg-white shadow-sm" style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#addProductModal">
            <div class="fs-1">+</div>
            <div>Add Product</div>
          </div>
        </div>

        <!-- Example of a product card with Edit and Delete buttons -->
        <div class="col-6 col-md-4 col-lg-3 product-card" data-product-id="1">
          <div class="card shadow-sm h-100">
            <img src="https://via.placeholder.com/150" class="card-img-top" alt="Product Image">
            <div class="card-body">
              <h5 class="card-title">Product Name</h5>
              <p class="card-text">Product description here.</p>
              <div class="d-flex justify-content-between">
                <button class="btn btn-warning btn-sm" data-bs-toggle="modal" data-bs-target="#editProductModal">Edit</button>
                <button class="btn btn-danger btn-sm" onclick="deleteProduct(1)">Delete</button>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- Add Product Modal -->
  <div class="modal fade" id="addProductModal" tabindex="-1" aria-labelledby="addProductModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="addProductForm" action="../PHP/Inventory.php" method="POST">
          <div class="modal-header">
            <h5 class="modal-title" id="addProductModalLabel">Add New Product</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <!-- Add Product Form -->
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success">Add Product</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Edit Product Modal -->
  <div class="modal fade" id="editProductModal" tabindex="-1" aria-labelledby="editProductModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="editProductForm">
          <div class="modal-header">
            <h5 class="modal-title" id="editProductModalLabel">Edit Product</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <!-- Dynamic content for editing -->
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Delete Product function (placeholder)
    function deleteProduct(productId) {
      Swal.fire({
        title: 'Are you sure?',
        text: 'You will not be able to recover this product!',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#d33',
        cancelButtonColor: '#3085d6',
        confirmButtonText: 'Yes, delete it!'
      }).then((result) => {
        if (result.isConfirmed) {
          // Simulate product deletion
          document.querySelector(`[data-product-id="${productId}"]`).remove();
          Swal.fire('Deleted!', 'The product has been deleted.', 'success');
        }
      });
    }
  </script>
</body>
</html>
